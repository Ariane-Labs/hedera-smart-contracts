---
status: "proposed"
date: "2025-10-06"
decision-makers: Fernando Paris <fernando.paris@swirldslabs.com>, Mariusz Jasuwienas <mariusz.jasuwienas@arianelabs.com>, Michal Walczak <michal.walczak@arianelabs.com>, Piotr Swierzy <piotr.swierzy@arianelabs.com>
consulted:
informed:
---

# ADR 003: Include Tests and Examples in System Contracts Repository

## Context and problem statement

The new Hedera System Contracts repository will be published as an NPM package for developers to use. We need to decide whether to include tests and examples in the repository, and if so, how to handle them in the published package.


## Decision Drivers

- Quality and reliability of the library
- Developer experience and ability to understand contract usage

## Considered Options

1. Remove tests and examples from the repository
2. Keep tests and examples in repository, exclude from NPM Package
3. **Include hardhat tests and exclude examples from the repo, exclude all from NPM package** (recommended)

### Option 1: Remove tests and examples from the repository

The repository contains only production-ready smart contracts, with no tests or examples included.

## Consequences

### Positive

- NPM package contains exactly what's in the repository

### Negative

- Contributors cannot run tests directly in the repository
- Need to maintain testing infrastructure elsewhere
- Examples are not co-located with contracts and there is a need for a clear documentation about where to find tests and examples

## Option 2: Keep tests and examples in repository, exclude from NPM package

The repository contains tests and examples, but they are excluded from the published NPM package via `.npmignore`.

Examples would have to be rewritten into Foundry tests.

## Consequences

### Positive

- Developers can easily see how to use the Solidity code within their own smart contracts.

### Negative

- Examples are meant to be stored elsewhere, which would require additional work on our side.

### Option 3: Include hardhat tests and exclude examples from the repo, exclude all from NPM package

In this option, the repository keeps all Hardhat tests, but they are excluded from the NPM package. All "example" contracts and walkthrough projects are excluded from both the contracts directory and the NPM package to keep the public API clear. The package ships production contracts; examples live in a separate repo or docs site.

## Consequences

### Positive

- High confidence in contract quality: maintainers and contributors run a comprehensive test suite in-repo before publishing or submitting PRs.
- Clearer public API: no example contracts mixed with production code, reducing confusion for users and auditors.
- Slim published package and easier dependency management for consumers focused only on artifacts and types.

### Negative

- Users installing the NPM package wonâ€™t get runnable .sol examples out-of-the-box; they must consult docs or a separate examples repo.

## Decision Outcome

**Chosen option:** Keep Hardhat tests in repository, but exclude examples from the contracts directory.

### Rationale

This option best balances quality, developer experience, and package cleanliness. Keeping Hardhat tests in the repository is desirable.
